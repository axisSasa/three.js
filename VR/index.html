<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>ECharts & WebVR 学院</title>
	<link rel="stylesheet" type="text/css" href="./css/style.css">
	<script type="text/javascript" src="js/jquery-3.2.0.min.js"></script>
	<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
</head>
<body>

	<nav class="leftNav">
		<h2>ECharts & WebVR 学院</h2>
		<a class="link" href="demo/index.html" target="viewer">
			<img src="img/preview/demo.png" />
			<div class="mask">
				<span>demo</span>
			</div>
		</a>
		<a class="link" href="webglTask1/index.html" target="viewer">
			<img src="img/preview/demo1.png" />
			<div class="mask">
				<span>No. 1 - Three.js 入门</span>
			</div>		
		</a>
		<a class="link" href="webglTask2/index.html" target="viewer">
			<img src="img/preview/demo2.png" />
			<div class="mask">
				<span>No. 2 - 光与影</span>
			</div>
		</a>
		<a class="link" href="webglTask3/index.html" target="viewer">
			<img src="img/preview/demo3.png" />
			<div class="mask">
				<span>No. 3 - 材质与纹理</span>
			</div>
		</a>
		<a class="link" href="webglTask4/index.html" target="viewer">
			<img src="img/preview/demo4.png" />
			<div class="mask">
				<span>No. 4 - 照相机和交互控制</span>
			</div>
		</a>
		<a class="link" href="webglTask5/index.html" target="viewer">
			<img src="img/preview/demo5.png" />
			<div class="mask">
				<span>No. 5 - 动画</span>
			</div>
		</a>
		<a class="link" href="webglTask6/index.html" target="viewer">
			<img src="img/preview/demo6.png" />
			<div class="mask">
				<span>No. 6 - 外部模型</span>
			</div>
		</a>
		<a class="link" href="webglTask7/index.html" target="viewer">WebGL No.7 - 着色器</a>
		<a class="link" href="webglTask8/index.html" target="viewer">WebGL No.8 - 物理引擎</a>
		<a class="link" href="webglTask9/index.html" target="viewer">WebGL No.9 - WebVR</a>
		<a class="link" href="webglTask10/index.html" target="viewer">WebGL No.10 -【综合】追风年代：第一人称三维赛车游戏</a>
	</nav>
	<iframe id="viewer"  name="viewer"></iframe>
	<script type="text/javascript">
		(function() {
			document.querySelector('.leftNav').addEventListener('click', handleClick, false);
			var viewer = document.getElementById('viewer');

			function handleClick(ev) {
				//找到点击事件最近的<a>标签
				var targetLink = $(ev.target).parents('.link')[0];
				
				if(targetLink){
					var location = window.location;
					location.hash = targetLink.getAttribute('href').split('/')[0];
					window.history.replaceState( {} , '', location.pathname + location.hash );
					viewer.src = location.hash + '/index.html';
					viewer.focus();
				}
			}

			if ( window.location.hash !== '' ) {
				document.getElementById('viewer').src = window.location.hash.substring( 1 ) + '/index.html';
				viewer.focus();
			}
		})();
	</script>
</body>
</html>